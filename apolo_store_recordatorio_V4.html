<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Recordatorio de Deuda - Apolo Store</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f8f8f8;
      padding: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      font-size: 24px;
      margin-bottom: 20px;
    }

    form {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      max-width: 400px;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    label {
      font-weight: bold;
    }

    input {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button {
      padding: 10px;
      margin-top: 10px;
      border: none;
      background-color: #4CAF50;
      color: white;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
    }

    #output {
      margin-top: 40px;
      padding: 20px;
      background: white;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 20px;
      max-width: 800px;
    }

    #output img {
      height: 150px;
    }

    #output p {
      margin: 0;
      font-size: 15px;
      line-height: 1.5;
    }

    #buttons {
      margin-top: 20px;
      display: flex;
      gap: 10px;
      justify-content: center;
    }
  </style>
</head>
<body>
  <h1>AAAAGenerador de mensaje de deuda - Apolo Store</h1>
  <form id="form">
    <label>Nombre del cliente:</label>
    <input type="text" id="nombre" required>

    <label>Monto adeudado:</label>
    <input type="text" id="monto" required>

    <label>Fecha de la compra (copiar y pegar):</label>
    <input type="text" id="fecha" required>

    <label>Quién vendió:</label>
    <input type="text" id="vendedor" required>

    <button type="submit">Generar mensaje</button>
  </form>

  <div id="buttons" style="display: none">
    <button onclick="copiarImagen()">Copiar imagen</button>
    <button onclick="descargarImagen()">Descargar imagen</button>
  </div>

  <div id="output" style="display: none"></div>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script>
    const form = document.getElementById("form");
    const output = document.getElementById("output");
    const buttons = document.getElementById("buttons");

    form.addEventListener("submit", function(event) {
      event.preventDefault();

      const nombre = document.getElementById("nombre").value;
      const monto = document.getElementById("monto").value;
      const fecha = document.getElementById("fecha").value;
      const vendedor = document.getElementById("vendedor").value;

      output.innerHTML = `
        <img src="logo.png" alt="Logo Apolo Store">
        <p>
          Holaaaaaa ${nombre}! Como estas? Porfa no te olvides de saldar tu deuda con nosotros. Así como es importante vender y cuidar a nuestros clientes ofreciendo ropa linda, de calidad y a buen precio, también es importante poder cobrar a tiempo para poder mantener la marca e incluso hacerla crecer. Pagar al mes siguiente es un compromiso mutuo, de nosotros confiando en nuestros clientes y de nuestros clientes devolviendo esa confianza.<br><br>
          Por las dudas te recordamos que tu saldo es de ${monto} de tu compra realizada el ${fecha} a ${vendedor} del equipo Apolo Store.<br><br>
          Si tenés alguna duda estamos para lo que necesites.
        </p>
      `;

      output.style.display = "flex";
      buttons.style.display = "flex";
    });

    function descargarImagen() {
      html2canvas(output).then(canvas => {
        const link = document.createElement("a");
        link.download = "recordatorio-apolo.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    function copiarImagen() {
      // Ocultar temporalmente el overlay si existe
      const overlay = document.querySelector('.overlay'); // ajusta el selector
      if (overlay) overlay.style.display = 'none';

      html2canvas(output, { backgroundColor: "#ffffff" }).then(canvas => {
        // Restaurar overlay
        if (overlay) overlay.style.display = '';

        canvas.toBlob(blob => {
          navigator.clipboard.write([new ClipboardItem({ 'image/png': blob })]);
          setTimeout(() => {
            alert("Imagen copiada al portapapeles.");
          }, 500);
        });
      });
    }
  </script>
</body>
</html>
